<aside class="site-drawer is-locked-x" id="filter">
    <div>
        <h2>Filter</h2>
        <div class="form-group">
            <input ng-model="occurrence.freeTextQuery">
            <button ng-click="occurrence.updateSearch()">Search</button>
        </div>
        <div class="form-group">
            <label>
                <span ng-click="occurrence.hide = !occurrence.hide">Scientific name</span>

                <div class="chip" ng-repeat="chip in occurrence.suggest.selected" ng-click="occurrence.suggest.remove($index)">
                    {{chip.canonicalName}}
                </div>

                <!--<taxon-explore></taxon-explore>-->

                <div class="site-drawer__sub" ng-show="!occurrence.hide">
                    <suggest config="occurrence.config" suggest="occurrence.suggest"></suggest>
                    <div ng-repeat="suggestion in occurrence.suggest.suggestions" ng-click="occurrence.suggest.add($index)" ng-class="{'is-active': $index==occurrence.suggest.activeIndex}">
                        {{suggestion.canonicalName}}
                    </div>
                </div>
            </label>


        </div>
    </div>

</aside>

<div class="site-content">
    <div class="page">
        <div class="occurrence-search-results">
            <div class="tabBar">
                <div class="tabs">
                    <a ui-sref="occurrenceSearchTable()" ng-class="{'is-active': occurrence.state.current.name=='occurrenceSearchTable'}">Table</a>
                    <a ui-sref="occurrenceSearchMap()" ng-class="{'is-active': occurrence.state.current.name=='occurrenceSearchMap'}">Map</a>
                    <a ui-sref="occurrenceSearchGallery()" ng-class="{'is-active': occurrence.state.current.name=='occurrenceSearchGallery'}">Gallery</a>
                </div>
            </div>


            <div ui-view>

            </div>
        </div>
    </div>
</div>
