<article class="wrapper-horizontal-stripes">


    <div class="container-fluid white-background search-header">
        <div class="row">
            <div class="col-xs-12">
                <nav class="article-header__category article-header__category--deep">
                    <span class="article-header__category__upper">Search</span>
                    <span class="article-header__category__lower">Species</span>
                </nav>
                <div class="search-header__description">
                    <span ng-if="speciesTable.hasData()">
                        {{speciesTable.state.data.count | localNumber:speciesTable.state.query.locale }} results
                    </span>
                </div>
            </div>
        </div>
    </div>


    <div class="horizontal-stripe white-background">
        <ng-include src="'/templates/components/loader/loader.html'" ng-if="!speciesTable.hasData()"> </ng-include>
        <div ng-if="speciesTable.hasData()">
            <div class="container--narrow">
                <div class="search-results__list row">
                    <div class="col-xs-12">

                        <article class="search-results__list__item" ng-repeat="row in speciesTable.state.data.results">
                            <span class="search-results__list__item__tag"><span>{{row.rank}}</span>{{row.taxonomicStatus}}</span>
                            <div>
                                <a href="../species/{{row.key}}" class="tile" ng-if="speciesTable.backboneKey == row.datasetKey">
                                    <div class="teaser-map--small">
                                        <img src="/img/tile000/basemap-grey-light2.png">
                                        <img ng-src="{{speciesTable.tileApi}}?x=0&y=0&z=0&palette=yellows_reds&key={{row.key}}&type=TAXON&resolution=4">
                                    </div>
                                </a>
                                <div>
                                    <h4 class="search-results__list__item__title">
                                        <a href="../species/{{row.key}}">{{row.scientificName | limitTo:150}}</a>
                                    </h4>
                                    <p class="search-results__list__item__meta" ng-if="speciesTable.state.query.advanced">
                                        Checklist:
                                        <a class="" href="../dataset/{{ row.datasetKey }}">{{row._datasetKey.title | limitTo:50 }}</a>
                                    </p>
                                    <!--<h4 class="search-results__list__item__subtitle">{{ row.description | limitTo:150 }}</h4>-->
                                </div>
                            </div>
                        </article>

                        <!--<uib-pagination-->
                                <!--total-items="datasetTable.state.data.count"-->
                                <!--ng-model="datasetTable.currentPage"-->
                                <!--max-size="datasetTable.maxSize"-->
                                <!--items-per-page="datasetTable.limit"-->
                                <!--class="pagination-sm"-->
                                <!--boundary-link-numbers="false"-->
                                <!--rotate="false"-->
                                <!--ng-change="datasetTable.pageChanged()"-->
                                <!--ng-show="datasetTable.state.data.count > datasetTable.limit">-->
                        <!--</uib-pagination>-->
                    </div>
                </div>


            </div>
        </div>
    </div>
</article>
