<article class="wrapper-horizontal-stripes">


    <div class="container-fluid white-background search-header">
        <div class="row">
            <div class="col-xs-12">
                <nav class="article-header__category article-header__category--deep">
                    <span class="article-header__category__upper">Search</span>
                    <span class="article-header__category__lower">Datasets</span>
                </nav>
                 <div class="search-header__description">
                    <span ng-if="datasetTable.hasData()">
                        {{datasetTable.state.data.count | localNumber:datasetTable.state.query.locale }} results
                    </span>
                </div>
            </div>
        </div>
    </div>


    <div class="horizontal-stripe white-background">
        <ng-include src="'/templates/components/loader/loader.html'" ng-if="!datasetTable.hasData()"> </ng-include>
        <div ng-if="datasetTable.hasData()">
            <div class="container--narrow">
                <div class="search-results__list row">
                    <div class="col-xs-12">
                        <!--<div class="search-results__list__overview">-->
                            <!--<span>{{datasetTable.totalItems}} results</span>-->
                            <!--&lt;!&ndash; <div class="hidden-lg">-->
                                <!--<span class="chip">-->
                                    <!--<a href="" class="chip__content">-->
                                        <!--<span class="chip__term">publisher</span>-->
                                        <!--<span>Comisi√≥n nacional para el conocimiento y uso de la</span>-->
                                        <!--<span class="close"></span>-->
                                    <!--</a>-->
                                <!--</span>-->
                            <!--</div> &ndash;&gt;-->
                        <!--</div>-->

                        <article class="search-results__list__item" ng-repeat="row in datasetTable.state.data.results">
                            <strong class="search-results__list__item__tag">{{row.type}}</strong>
                            <div>
                                <a href="../dataset/{{row.key}}" class="tile" ng-if="row.type == 'OCCURRENCE'">
                                    <div class="teaser-map--small">
                                        <img src="/img/tile000/basemap-grey-light2.png">
                                        <img ng-src="{{datasetTable.tileApi}}?x=0&y=0&z=0&palette=yellows_reds&key={{row.key}}&type=DATASET&resolution=4">
                                    </div>
                                </a>
                                <div>
                                    <h4 class="search-results__list__item__title">
                                        <a href="../dataset/{{row.key}}">{{row.title | limitTo:150}}</a>
                                    </h4>
                                    <p class="search-results__list__item__meta">Published by
                                        <a class="" href="../publisher/{{ row.publishingOrganizationKey }}">{{row.publishingOrganizationTitle | limitTo:50 }}</a>
                                    </p>
                                    <p class="search-results__list__item__subtitle">{{ row.description | limitTo:150 }}</p>
                                </div>
                                <!-- <ul class="list-chips">
                                    <li><a href="../dataset/table?type={{ row.type }}">{{row.type | lowercase }}</a></li>
                                </ul> -->
                            </div>
    <!--                         <div class="search-results__list__item__details">
                                <a href="../dataset/{{row.key}}" class="tile" ng-if="row.type == 'OCCURRENCE'">
                                    <div class="species-overview-map--small">
                                        <img src="/img/tile000/basemap-grey-light2.png">
                                        <img ng-src="//cdn.gbif.org/v1/map/density/tile.png?x=0&y=0&z=0&palette=yellows_reds&key={{row.key}}&type=DATASET&resolution=4">
                                    </div>
                                </a>
                            </div> -->
                        </article>

                        <uib-pagination
                                total-items="datasetTable.state.data.count"
                                ng-model="datasetTable.currentPage"
                                max-size="datasetTable.maxSize"
                                items-per-page="datasetTable.limit"
                                class="pagination-sm"
                                boundary-link-numbers="false"
                                rotate="false"
                                ng-change="datasetTable.pageChanged()"
                                ng-show="datasetTable.state.data.count > datasetTable.limit">
                        </uib-pagination>
                    </div>
                </div>


            </div>
        </div>
    </div>
</article>
