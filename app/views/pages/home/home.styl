$home_overlay_opacity = 0.3
$dark_overlay_opacity = 0.4
$home_overlay_color_from = rgba(0, 0, 0, $home_overlay_opacity)
$home_overlay_color_to = rgba(0, 0, 0, 0)
$dark_overlay_color = rgba(0, 0, 0, $dark_overlay_opacity)

.home {
    &__header {
        background-color $olivine
        background-attachment fixed
        background-image linear-gradient(to right, $home_overlay_color_from, $home_overlay_color_to), url('//api.gbif.org/v1/image/unsafe/1600x1000/left/top/http://static.inaturalist.org/photos/3400549/original.JPG?1460949098')
        background-size cover
        background-position center
        color white
        position relative
        &__hero-text {
            padding vrBlock(4) 0
        }
        h1 {
            max-width 700px
            margin-top 0
            margin-bottom vrBlock(1)
        }
        .caption {
            font-size 12px
            position absolute
            right 0
            bottom 0
            padding 5px 10px
            color rgba(255, 255, 255, 0.5)
            a {
                color inherit
                text-decoration underline
            }
            &:hover {
                color white
                background rgba(0, 0, 0, 0.3)
            }
        }
    }
    &__quicklinks {
        //max-width 400px
        a {
            display inline-block
            margin 5px 2px 0 0
        }
    }
    &__news {
        padding vrBlock(2) 0
        //&__header {
        //    margin-bottom vrBlock(1)
        //    h2 {
        //        font-style italic
        //        font-family 'PT Serif', serif
        //        font-weight 400
        //    }
        //    &__intro {
        //        text-transform uppercase
        //        font-size 12px
        //        font-weight normal
        //        color #888
        //    }
        //}
    }
    
    &__featured {
        background-image linear-gradient(to right, $dark_overlay_color, $dark_overlay_color), url('//api.gbif.org/v1/image/unsafe/1600x1000/left/top/http%3A%2F%2Fcms.gbif-uat.org%2Fsites%2Fdefault%2Ffiles%2Fstyles%2Fheader_image%2Fpublic%2Fgbif_scaled_contents%2Fdata_use%2F2016-November%2F82995%2F14201651585_2a9517b21b_k.jpg')
        background-size cover
        background-position center
        color white
        &__text {
            padding vrBlock(4) 0
            text-align right
            h1 {
                float right
                max-width 700px
                font-size 30px
                margin 0
            }
        }
    }
    &__about {
        font-size 18px
        line-height 1.66667 //30px
        font-weight 300
    }
    &__country {
        font-size 14px
        &__headline {
            div {
                font-size 18px
            }
        }
        &__category {
            color $orangePeel
            font-weight 500
            font-size 12px
        }
        &__title {
            font-weight normal
            margin-bottom 0
        }
        &__description {
            font-size 14px
            font-weight 300
        }
        &__footer {
            color $discreetInk
            font-size 12px
            display block
        }
        &__activities {
            max-height 400px
            overflow auto
        }
        &__more {
            margin-top -10px
        }
        &__logo {
            float right
            > img {
                max-width 100px
                max-height 70px
            }
        }
    }

    &__occurrences {
        background-color white
        background-image url('https://a0.muscache.com/airbnb/static/engagement/p1/large/posters_sm.jpg')
        background-position center bottom
        background-repeat repeat-x, no-repeat
        padding vrBlock(3) 0 vrBlock(18) 0
        color black
        h2 {
            font-size 50px
            font-weight 300
        }
        p {
            max-width 300px
            &:first-of-type {
                font-weight bold
            }
        }
    }
    &__about--columns {
        columns 2 10px 30px
    }

    &__country__occurrences {
        overflow hidden
        display flex
        flex-wrap nowrap
        height 70px
        > a {
            margin-right 3px
            flex 0 0 auto
            display inline-block
            white-space nowrap
            height 70px
            background-position center
            background-size cover
            img {
                height 100%
                width auto
            }
        }
    }
    
    &__datapapers {
        &__bubble {
            width 160px
            height 160px
            border-radius 80px
            margin 0 auto
            margin-top -80px
            background-size cover
        }
        &__header {
            max-width 500px
            margin auto
            margin-bottom vrBlock(2)
            h2 {
                font-style italic
                font-family 'PT Serif', serif
                font-weight 400
            }
            &__intro {
                text-transform uppercase
                font-size 12px
                font-weight normal
                color #888
            }
        }
    }
}

//LAPTOPS
+isAbove($laptop) {
    .home {
        //height 0
        //padding-bottom 30%
        &__header {
            h1 {
                font-size 45px
            }
        }
    }
}

+isAbove($laptop) {
    .hasTransparentMenu {
        main {
            padding-top 0
        }
        .site-nav {
            background none
            box-shadow none
            position absolute
        }
    }
}

.articles {
    .article-box {
        width 300px
        max-width 100%
        color black
        margin $halfGutter auto
        //&:hover {
        //    text-decoration none
        //    .article-box__title {
        //        color $linkColor
        //    }
        //}
        &__details {
            background white
            padding 10px 0
        }
        &__tag {
            font-size 12px
            margin-bottom 3px
            font-weight bold
            color $orangePeel
        }
        &__title {
            font-weight 400
            font-size 16px
            line-height $lineHeightRatio
            margin 0
            color #555
        }
        &__footer {
            font-size 12px
            font-weight normal
            color #aaa
        }
    }
}

+isAbove(500px) {
    .articles {
        margin $halfGutter -($halfGutter)
        display flex
        flex-wrap wrap
        justify-content center
        .article-box {
            margin $halfGutter ($halfGutter/ 2)
            flex 1 1 auto
            width "calc(100% / 2 - %s)" % ($halfGutter* 2)
            max-width 300px
        }
    }
}

+isAbove(1000px) {
    .articles {
        .article-box {
            width "calc(100% / 4 - %s)" % ($halfGutter* 2)
            flex 1 1 auto
            max-width 300px
        }
    }
}

//+isAbove(1300px) {
//    .articles {
//        .article-box {
//            width 300px
//        }
//    }
//}

.date-box {
    //background darkseagreen
    $radLighter = lighten(darkseagreen, 5)
    $radDarker = darken(darkseagreen, 5)
    background radial-gradient(farthest-corner at 30% 20%, $radLighter 20%, darkseagreen 60%, $radDarker)
    color white
    text-align center
    width 100%
    //height 0
    padding 0
    //padding-bottom 66%
    position relative
    > div {
        position absolute
        top 0
        bottom 0
        width 100%
        height 100%
        > div {
            vertically-align()
            //width 126px
            //height 126px
            //border-radius 50%
            //background $olivine
            //margin auto
            div {
                font-size 40px
                font-weight normal
            }
        }
    }
}
.date-box--small {
    @extends .date-box
    span {
        font-size 12px
    }
    >div>div div {
        font-size 16px
    }
}

.features {
    &__intro {
        text-align center
        padding vrBlock(5) 0 vrBlock(3) 0
    }
}

$featureIllustrationSize = 300px
.feature {
    background-size cover
    background-position center
    margin $halfGutter 0

    &--blank {
        .feature__summary {
            padding vrBlock(1)
            color #444
            background none
        }
    }

    &__summary {
        padding vrBlock(5) vrBlock(2)
        position relative
        color white
        background rgba(0, 0, 0, 0.6)
    }
}